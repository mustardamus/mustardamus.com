---
import IconLink from "../IconLink.astro";
import type { Link } from "@src/env";

interface Props {
  link: Link;
}

const { link } = Astro.props as Props;

function isCurrentPage(href: string) {
  const { pathname } = Astro.url;

  if (pathname === href) {
    return true;
  }

  return href !== "/" && pathname.startsWith(href);
}
---

<IconLink
  href={link.href}
  title={link.title}
  icon={link.icon}
  bgClass="bg-light-primary dark:bg-dark-primary"
  ,
  isActive={isCurrentPage(link.href)}
/>
