---
import { Image } from "astro:assets";
import dudeImage from "@src/assets/images/croatia-24.png";
---

<div id="postcard" class="group">
  <Image
    src={dudeImage}
    alt="On Bike Tour - Croatia 2024"
    width={360}
    quality={100}
    class:list={[
      "rounded-sm shadow-sm scale-110 lg:scale-120",
      "group-[.in-view]:rotate-4 transition-all duration-700",
    ]}
  />
</div>

<script is:inline>
  const observer = new IntersectionObserver(
    (entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.add("in-view");
        } else {
          entry.target.classList.remove("in-view");
        }
      });
    },
    { threshold: 0.5 },
  );

  observer.observe(document.querySelector("#postcard"));
</script>
